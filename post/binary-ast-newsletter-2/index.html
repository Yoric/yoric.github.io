<!DOCTYPE html>
<html class="js no-touch  progressive-image  no-reduced-motion progressive" lang="en">
  <head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script>
    <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <link rel="icon" href="http://localhost:1313/img/favicon.ico">

    <meta name="keyword" content=""><meta property="og:url" content="http://localhost:1313/post/binary-ast-newsletter-2/">
  <meta property="og:site_name" content="Il y a du thé renversé au bord de la table, by David &#34;Yoric&#34; Teller">
  <meta property="og:title" content="The Binary AST Wishlist">
  <meta property="og:description" content="Towards a JavaScript Binary AST, part 2">
  <meta property="og:locale" content="en">
  <meta property="og:type" content="article">
    <meta property="article:section" content="post">
    <meta property="article:published_time" content="2017-09-26T13:39:14+02:00">
    <meta property="article:modified_time" content="2017-09-26T13:39:14+02:00">
    <meta property="article:tag" content="JavaScript">
    <meta property="article:tag" content="Mozilla">
    <meta property="article:tag" content="Parsing">
    <meta property="article:tag" content="Ast">
    <meta property="article:tag" content="Compiler">
    <meta property="article:tag" content="Performance">
<title>The Binary AST Wishlist</title>

    <link rel="canonical" href="http://localhost:1313/post/binary-ast-newsletter-2/">

    <link rel="stylesheet" href="http://localhost:1313/css/global.css">

    <link rel="stylesheet" href="http://localhost:1313/css/custom.css">

    <link rel="stylesheet" href="http://localhost:1313/css/search.css" />

    
    

    
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/gitalk@1/dist/gitalk.css">
    <script src="https://cdn.jsdelivr.net/npm/gitalk@1/dist/gitalk.min.js"></script>
    

    
    

</head>
  </head>
  <body class=" page-article   ">
    <header>
      <nav class="nav">
  <div class="nav-wrapper">
    <div class="nav-content-wrapper">
      <div class="nav-content">
        <a href="http://localhost:1313/ " class="nav-title">Il y a du thé renversé au bord de la table, by David &#34;Yoric&#34; Teller</a>
        <div class="nav-menu">
          <div class="nav-item-wrapper">
            <a href="http://localhost:1313/post " class="nav-item-content">Articles</a>
          </div><div class="nav-item-wrapper">
            <a href="http://localhost:1313/about" class="nav-item-content">About</a>
          </div><div class="nav-item-wrapper">
            <a href="http://localhost:1313/index.xml" class="nav-item-content" target="_blank">RSS</a>
          </div></div>
      </div>
    </div>
  </div>
</nav>

<script>
  function toggleSearchModal(){
    const template = `
    <div class="modal-body">
      <div id="autocomplete" onclick="event.stopPropagation();"></div>
    </div>
    `
    const modal = document.querySelector("#modal-wrapper")
    if(!modal){
      const div = document.createElement("div")
      document.body.setAttribute("style","overflow: hidden;")
      div.setAttribute("id", "modal-wrapper")
      div.setAttribute("onclick", "toggleSearchModal()")
      div.innerHTML = template
      const script = document.createElement("script");script.setAttribute("src", "http://localhost:1313/js/algolia.js")
      div.appendChild(script)
      document.body.append(div)
    } else {
      document.body.removeAttribute("style")
      document.body.removeChild(modal)
    }
  }
</script>
    </header>
    
  
  
  <main id="main" class="main">
      <section>
        <article class="article">
          
          <div class=" article-header ">
            <div class="category component">
              <div class="component-content">
                <div class="category-eyebrow">
                  <span class="category-eyebrow__category category_original">
                    
                      
                        JavaScript
                      
                    
                  </span>
                  <span class="category-eyebrow__date">September 26, 2017</span>
                </div>
              </div>
            </div>
            <div class="pagetitle component">
              <div class="component-content">
                <h1 class="hero-headline">The Binary AST Wishlist</h1>
              </div>
            </div>
            <div class="component  article-subhead ">
              <div class="component-content">Towards a JavaScript Binary AST, part 2</div>
            </div>

            <div class="tagssheet component">
              <div class="component-content">
                
                  
                  <a href="http://localhost:1313/tags/javascript" class="tag">
                    JavaScript
                  </a>
                
                  
                  <a href="http://localhost:1313/tags/mozilla" class="tag">
                    Mozilla
                  </a>
                
                  
                  <a href="http://localhost:1313/tags/parsing" class="tag">
                    parsing
                  </a>
                
                  
                  <a href="http://localhost:1313/tags/ast" class="tag">
                    ast
                  </a>
                
                  
                  <a href="http://localhost:1313/tags/compiler" class="tag">
                    compiler
                  </a>
                
                  
                  <a href="http://localhost:1313/tags/performance" class="tag">
                    performance
                  </a>
                
                  
                  <a href="http://localhost:1313/tags/spidermonkey" class="tag">
                    SpiderMonkey
                  </a>
                
                  
                  <a href="http://localhost:1313/tags/babel" class="tag">
                    Babel
                  </a>
                
                  
                  <a href="http://localhost:1313/tags/newsletter" class="tag">
                    newsletter
                  </a>
                
              </div>
            </div>
          </div>
          
          <div class="pagebody">
            
            
            
            
            
            
            
            
            <p class="component-content component">In a previous post, we introduced the ongoing work on the <a href="https://yoric.github.io/post/binary-ast-newsletter-1/">JavaScript Binary AST</a>.
To recapitulate, the JavaScript Binary AST is a very special compression format designed:</p>
<div class="component-content component"><ul>
<li>for JavaScript;</li>
<li>to optimize end-to-end performance, in particular the time it takes for code to start executing.</li>
</ul></div>
<p class="component-content component">This post attempts to explain some of the process behind the design of the Binary AST,
some of the choices we have already made and some of the choices that remain
to be made.</p>

<div class="component-content pagebody component">
  <h1 id="usability" class="pagebody-header">
    Usability
  </h1>
</div><p class="component-content component">Before entering in details, let&rsquo;s not forget the most important part: any piece
of technology, no matter how cleverly designed, is useless if nobody uses it.</p>
<p class="component-content component">So let&rsquo;s start our wish list with these points:</p>
<div class="component-content component"><ul>
<li><strong>TODO</strong> the result of this project must be useful;</li>
<li><strong>TODO</strong> the results of our work must be usable by everyone, without
having to refactor or learn a new programming language or entire
new toolchains;</li>
</ul></div>

<div class="component-content pagebody component">
  <h1 id="a-short-introduction-to-asts" class="pagebody-header">
    A short introduction to ASTs
  </h1>
</div><p class="component-content component">AST stands for Abstract Syntax Tree. No matter which is your preferred
programming language, this data structure lurks inside your
interpreter/compiler/virtual machine. Even HTML has an AST,
called the DOM tree.</p>
<p class="component-content component">So, let us consider the following snippet of JavaScript:</p>
<div class="component-content pagebody component code">
  
  
  
  <div class=""><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-js" data-lang="js"><span style="display:flex;"><span><span style="color:#75715e">// `item` is declared implicitly
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#66d9ef">for</span> (<span style="color:#a6e22e">item</span> <span style="color:#66d9ef">of</span> document.<span style="color:#a6e22e">getElementsByClassName</span>(<span style="color:#e6db74">&#34;sun&#34;</span>)) {
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">if</span> (<span style="color:#f92672">!</span><span style="color:#a6e22e">item</span>.<span style="color:#a6e22e">classList</span>.<span style="color:#a6e22e">contains</span>(<span style="color:#e6db74">&#34;clouds&#34;</span>)) {
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">item</span>.<span style="color:#a6e22e">classList</span>.<span style="color:#a6e22e">add</span>(<span style="color:#e6db74">&#34;sundown&#34;</span>);
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}</span></span></code></pre></div></div>
  
</div><p class="component-content component">Between the time the browser receives the code and the instant it can start
executing it, this code needs to go through many (costly) steps.</p>
<p class="component-content component">After a few of these steps, the above source code is converted into something
like:</p>
<div class="component-content pagebody component code">
  
  
  
  <div class=""><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-js" data-lang="js"><span style="display:flex;"><span><span style="color:#a6e22e">ForOf</span> {
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">vars</span><span style="color:#f92672">:</span> [<span style="color:#e6db74">&#34;item&#34;</span>],
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">left</span><span style="color:#f92672">:</span> <span style="color:#a6e22e">Name</span> <span style="color:#e6db74">&#34;item&#34;</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">right</span><span style="color:#f92672">:</span> <span style="color:#a6e22e">Apply</span> {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">function</span><span style="color:#f92672">:</span> <span style="color:#a6e22e">Dot</span> {
</span></span><span style="display:flex;"><span>            <span style="color:#a6e22e">object</span><span style="color:#f92672">:</span> <span style="color:#a6e22e">Name</span> <span style="color:#e6db74">&#34;document&#34;</span>,
</span></span><span style="display:flex;"><span>            <span style="color:#a6e22e">property</span><span style="color:#f92672">:</span> <span style="color:#a6e22e">Name</span> <span style="color:#e6db74">&#34;getElementsByClassName&#34;</span>
</span></span><span style="display:flex;"><span>        },
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">args</span><span style="color:#f92672">:</span> [String <span style="color:#e6db74">&#34;sun&#34;</span>]
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">body</span><span style="color:#f92672">:</span> <span style="color:#a6e22e">If</span> {
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">condition</span><span style="color:#f92672">:</span> <span style="color:#a6e22e">Unary</span> {
</span></span><span style="display:flex;"><span>            <span style="color:#a6e22e">operation</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#34;!&#34;</span>,
</span></span><span style="display:flex;"><span>            <span style="color:#a6e22e">operand</span><span style="color:#f92672">:</span> <span style="color:#a6e22e">Apply</span> {
</span></span><span style="display:flex;"><span>                <span style="color:#66d9ef">function</span><span style="color:#f92672">:</span> <span style="color:#a6e22e">Dot</span> {
</span></span><span style="display:flex;"><span>                    <span style="color:#a6e22e">object</span><span style="color:#f92672">:</span> <span style="color:#a6e22e">Dot</span> {
</span></span><span style="display:flex;"><span>                        <span style="color:#a6e22e">object</span><span style="color:#f92672">:</span> <span style="color:#a6e22e">Name</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#34;item&#34;</span>,
</span></span><span style="display:flex;"><span>                        <span style="color:#a6e22e">property</span><span style="color:#f92672">:</span> <span style="color:#a6e22e">Name</span> <span style="color:#e6db74">&#34;classList&#34;</span>
</span></span><span style="display:flex;"><span>                    },
</span></span><span style="display:flex;"><span>                    <span style="color:#a6e22e">property</span><span style="color:#f92672">:</span> <span style="color:#a6e22e">Name</span> <span style="color:#e6db74">&#34;contains&#34;</span>
</span></span><span style="display:flex;"><span>                },
</span></span><span style="display:flex;"><span>                <span style="color:#a6e22e">args</span><span style="color:#f92672">:</span> [String <span style="color:#e6db74">&#34;clouds&#34;</span>]
</span></span><span style="display:flex;"><span>            }
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">then</span><span style="color:#f92672">:</span> <span style="color:#a6e22e">Apply</span> {
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">function</span><span style="color:#f92672">:</span> <span style="color:#a6e22e">Dot</span> {
</span></span><span style="display:flex;"><span>                <span style="color:#a6e22e">object</span><span style="color:#f92672">:</span> <span style="color:#a6e22e">Dot</span> {
</span></span><span style="display:flex;"><span>                    <span style="color:#a6e22e">object</span><span style="color:#f92672">:</span> <span style="color:#a6e22e">Name</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#34;item&#34;</span>,
</span></span><span style="display:flex;"><span>                    <span style="color:#a6e22e">property</span><span style="color:#f92672">:</span> <span style="color:#a6e22e">Name</span> <span style="color:#e6db74">&#34;classList&#34;</span>
</span></span><span style="display:flex;"><span>                },
</span></span><span style="display:flex;"><span>                <span style="color:#a6e22e">property</span><span style="color:#f92672">:</span> <span style="color:#a6e22e">Name</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#34;add&#34;</span>
</span></span><span style="display:flex;"><span>            },
</span></span><span style="display:flex;"><span>            <span style="color:#a6e22e">args</span><span style="color:#f92672">:</span> [String <span style="color:#e6db74">&#34;sundown&#34;</span>]
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">else</span><span style="color:#f92672">:</span> <span style="color:#66d9ef">null</span>
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}</span></span></code></pre></div></div>
  
</div><p class="component-content component">As you can see, this data structure contains the source code, just in a
different form. Once the compiler/interpreter/VM has created the AST,
it will perform a number of transformations on the AST, typically to either
detect errors or perform early optimizations.</p>
<p class="component-content component">After this, it will proceed to the next step of execution.</p>
<p class="component-content component">As you may guess from the name, the core stuff of the JS Binary AST project
is to ship a version of the JavaScript AST directly to the browser, instead
of the usual source code. While the above snippet looks large, we&rsquo;ll discuss
below and in future posts how we can actually make the AST smaller – indeed,
in most cases, much smaller than the (gzipped) source code.</p>

<div class="component-content pagebody component">
  <h1 id="coming-up-with-an-ast-for-javascript" class="pagebody-header">
    Coming up with an AST for JavaScript
  </h1>
</div><p class="component-content component">The first problem is to define an AST for JavaScript. Indeed, while each
Virtual Machine has <em>an</em> AST, to this date, no two VM vendors have attempted
to work out a common JavaScript AST. This makes sense, because each VM does
different things with its AST and therefore stores different information on
it.</p>
<p class="component-content component">So, our first TODOs are:</p>
<div class="component-content component"><ul>
<li><strong>TODO</strong> we need a vendor-neutral AST;</li>
<li><strong>TODO</strong> we need to convince VM vendors that it can easily and efficiently be translated to their VM&rsquo;s internal AST;</li>
<li><strong>TODO</strong> this AST must be adopted as a JavaScript standard</li>
<li><strong>TODO</strong> whenever we specify a new JavaScript feature, its AST
representation must also be specified.</li>
</ul></div>
<p class="component-content component">As it turns out, there are already a few JavaScript ASTs in the wild:</p>
<div class="component-content component"><ul>
<li><a href="https://github.com/estree/estree">ESTree</a></li>
<li><a href="http://shift-ast.org/">Shift</a></li>
<li><a href="https://github.com/babel/babylon/blob/master/ast/spec.md">Babylon</a></li>
</ul></div>
<p class="component-content component">We have decided to start our work based on Babylon, as it seems to be the most
battle-tested of the lot. However, our AST will have some deviations from
Babylon, where it makes sense for performance or file size.</p>

<div class="component-content pagebody component">
  <h2 id="yesterdays-ast-todays-ast-and-tomorrows-ast" class="pagebody-header">
    Yesterday&rsquo;s AST, today&rsquo;s AST and tomorrow&rsquo;s AST
  </h2>
</div><p class="component-content component">If you have been using JavaScript recently, you have probably realized that the
language keeps changing. This means that yesterday&rsquo;s AST might not be today&rsquo;s
AST or tomorrow&rsquo;s AST.</p>
<p class="component-content component">For instance, consider a function. In ES5, a function was characterized by:</p>
<div class="component-content component"><ul>
<li>optionally, its name;</li>
<li>its list of arguments;</li>
<li>its body.</li>
</ul></div>
<p class="component-content component">So, a simple function</p>
<div class="component-content pagebody component code">
  
  
  
  <div class=""><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-js" data-lang="js"><span style="display:flex;"><span><span style="color:#66d9ef">function</span> <span style="color:#a6e22e">empty</span>() {
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">// Empty body.
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>}</span></span></code></pre></div></div>
  
</div><p class="component-content component">was described as</p>
<div class="component-content pagebody component code">
  
  
  
  <div class=""><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-js" data-lang="js"><span style="display:flex;"><span><span style="color:#a6e22e">FunctionDeclaration</span> {
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">name</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#34;empty&#34;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">arguments</span><span style="color:#f92672">:</span> [], <span style="color:#75715e">// Empty arguments.
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#a6e22e">body</span><span style="color:#f92672">:</span> [], <span style="color:#75715e">// Empty body.
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>}</span></span></code></pre></div></div>
  
</div><p class="component-content component">In 2015, generators appeared, so that same function was described as</p>
<div class="component-content pagebody component code">
  
  
  
  <div class=""><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-js" data-lang="js"><span style="display:flex;"><span><span style="color:#a6e22e">FunctionDeclaration</span> {
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">name</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#34;empty&#34;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">arguments</span><span style="color:#f92672">:</span> [],
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">body</span><span style="color:#f92672">:</span> [],
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">generator</span><span style="color:#f92672">:</span> <span style="color:#66d9ef">false</span>,
</span></span><span style="display:flex;"><span>}</span></span></code></pre></div></div>
  
</div><p class="component-content component">In 2017, async functions appeared so that same function is now described as</p>
<div class="component-content pagebody component code">
  
  
  
  <div class=""><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-js" data-lang="js"><span style="display:flex;"><span><span style="color:#a6e22e">FunctionDeclaration</span> {
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">name</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#34;empty&#34;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">arguments</span><span style="color:#f92672">:</span> [],
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">body</span><span style="color:#f92672">:</span> [],
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">generator</span><span style="color:#f92672">:</span> <span style="color:#66d9ef">false</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">async</span><span style="color:#f92672">:</span> <span style="color:#66d9ef">false</span>,
</span></span><span style="display:flex;"><span>}</span></span></code></pre></div></div>
  
</div><p class="component-content component">Of course, to make things more complicated, there is no guarantee that all VM
vendors implemented generators or async functions in the same order.</p>
<p class="component-content component">Similarly, new operators such as <code>**</code> or <code>**=</code> have been added to JavaScript,
as well as entirely new constructions such as <code>await</code>. In other words,
JavaScript is very much a moving target.</p>
<p class="component-content component">This translates to the following TODOs:</p>
<div class="component-content component"><ul>
<li><strong>TODO</strong> the AST format must be able to represent AST nodes
that didn&rsquo;t exist when the AST format was defined;</li>
<li><strong>TODO</strong> the AST format must be able to represent AST nodes with
properties that didn&rsquo;t exist when the AST format was defined;</li>
<li><strong>TODO</strong> the AST format must be able to represent AST nodes with
values that didn&rsquo;t exist when the AST format was defined;</li>
<li><strong>TODO</strong> a VM implementing a more recent version of JavaScript must
be able to read and process a BinAST that was emitted for an older
version of JavaScript;</li>
<li><strong>TODO</strong> the AST format must not rely upon the order in which features
have been proposed/adopted/implemented.</li>
</ul></div>
<p class="component-content component">We fulfill these TODOs by adopting a self-describing format, which describes
inside the file which variant of a node is used. For instance, we may specify
something along the lines of:</p>
<div class="component-content pagebody component code">
  
  
  
  <div class=""><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-js" data-lang="js"><span style="display:flex;"><span><span style="color:#75715e">/*40*/</span> ...
</span></span><span style="display:flex;"><span><span style="color:#75715e">/*41*/</span> ...
</span></span><span style="display:flex;"><span><span style="color:#75715e">/*42*/</span> <span style="color:#e6db74">&#34;FunctionDeclaration&#34;</span> [<span style="color:#e6db74">&#34;name&#34;</span>, <span style="color:#e6db74">&#34;arguments&#34;</span>, <span style="color:#e6db74">&#34;body&#34;</span>]
</span></span><span style="display:flex;"><span><span style="color:#75715e">/*43*/</span> ...
</span></span><span style="display:flex;"><span><span style="color:#75715e">/*44*/</span> ...</span></span></code></pre></div></div>
  
</div><p class="component-content component">This description lets the parser immediately determine which version(s) of
<code>FunctionDeclaration</code> may appear in the file and how they will be represented.
Here, the file contains <code>FunctionDeclaration</code> nodes with three
properties: <code>name</code>, <code>arguments</code> and <code>body</code>.</p>

<div class="component-content pagebody component">
  <h1 id="making-it-fast-to-send" class="pagebody-header">
    Making it fast to send
  </h1>
</div><p class="component-content component">If we want to make the Binary AST useful, we need to make sure that files do not
become too large. Not only that, but we would like Binary AST compression
to beat minification + gzip compression in terms of disk usage.</p>
<div class="component-content component"><ul>
<li><strong>TODO</strong> adopt a size-efficient representation of the AST;</li>
<li><strong>TODO</strong> during development, benchmark size against minified + gzipped code;</li>
</ul></div>
<p class="component-content component">Of course, to do this, we need to adopt an efficient representation of the AST.</p>
<p class="component-content component">In the examples above, we have put the definition of <code>FunctionDeclaration</code> in an
index, with number 42. Which means that istead of</p>
<div class="component-content pagebody component code">
  
  
  
  <div class=""><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-js" data-lang="js"><span style="display:flex;"><span><span style="color:#a6e22e">FunctionDeclaration</span> {
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">name</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#34;empty&#34;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">arguments</span><span style="color:#f92672">:</span> [],
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">body</span><span style="color:#f92672">:</span> [],
</span></span><span style="display:flex;"><span>}</span></span></code></pre></div></div>
  
</div><p class="component-content component">we can write in our file the following sequence of 9 bytes:</p>
<div class="component-content pagebody component code">
  
  
  
  <div class=""><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-js" data-lang="js"><span style="display:flex;"><span>[<span style="color:#ae81ff">42</span>, <span style="color:#ae81ff">5</span> <span style="color:#75715e">/*length of string*/</span>, <span style="color:#e6db74">&#39;e&#39;</span>, <span style="color:#e6db74">&#39;m&#39;</span>, <span style="color:#e6db74">&#39;p&#39;</span>, <span style="color:#e6db74">&#39;t&#39;</span>, <span style="color:#e6db74">&#39;y&#39;</span>, <span style="color:#ae81ff">0</span> <span style="color:#75715e">/* length of list*/</span>, <span style="color:#ae81ff">0</span> <span style="color:#75715e">/* length of list */</span>]</span></span></code></pre></div></div>
  
</div><p class="component-content component">This is already much shorter.</p>
<p class="component-content component">Similarly, let us revisit</p>
<div class="component-content pagebody component code">
  
  
  
  <div class=""><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-js" data-lang="js"><span style="display:flex;"><span><span style="color:#75715e">// `item` is declared implicitly
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#66d9ef">for</span> (<span style="color:#a6e22e">item</span> <span style="color:#66d9ef">of</span> document.<span style="color:#a6e22e">getElementsByClassName</span>(<span style="color:#e6db74">&#34;sun&#34;</span>)) {
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">if</span> (<span style="color:#f92672">!</span><span style="color:#a6e22e">item</span>.<span style="color:#a6e22e">classList</span>.<span style="color:#a6e22e">contains</span>(<span style="color:#e6db74">&#34;clouds&#34;</span>)) {
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">item</span>.<span style="color:#a6e22e">classList</span>.<span style="color:#a6e22e">add</span>(<span style="color:#e6db74">&#34;sundown&#34;</span>);
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}</span></span></code></pre></div></div>
  
</div><p class="component-content component">We describe it as</p>
<div class="component-content pagebody component code">
  
  
  
  <div class=""><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-js" data-lang="js"><span style="display:flex;"><span><span style="color:#a6e22e">Constructions</span> [
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">/*0*/</span> <span style="color:#e6db74">&#34;ForOf&#34;</span> [<span style="color:#e6db74">&#34;vars&#34;</span>, <span style="color:#e6db74">&#34;left&#34;</span>, <span style="color:#e6db74">&#34;right&#34;</span>],
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">/*1*/</span> <span style="color:#e6db74">&#34;Name&#34;</span> [<span style="color:#e6db74">&#34;value&#34;</span>],
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">/*2*/</span> <span style="color:#e6db74">&#34;Apply&#34;</span> [<span style="color:#e6db74">&#34;function&#34;</span>, <span style="color:#e6db74">&#34;args&#34;</span>],
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">/*3*/</span> <span style="color:#e6db74">&#34;Dot&#34;</span> [<span style="color:#e6db74">&#34;object&#34;</span>, <span style="color:#e6db74">&#34;property&#34;</span>],
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">/*4*/</span> <span style="color:#e6db74">&#34;If&#34;</span> [<span style="color:#e6db74">&#34;condition&#34;</span>, <span style="color:#e6db74">&#34;then&#34;</span>, <span style="color:#e6db74">&#34;else&#34;</span>],
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">/*5*/</span> <span style="color:#e6db74">&#34;Unary&#34;</span> [<span style="color:#e6db74">&#34;operation&#34;</span>, <span style="color:#e6db74">&#34;operand&#34;</span>],
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">/*6*/</span> <span style="color:#e6db74">&#34;String&#34;</span> [<span style="color:#e6db74">&#34;value&#34;</span>],
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">/*7*/</span> <span style="color:#66d9ef">null</span>,
</span></span><span style="display:flex;"><span>]
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">Strings</span> [
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">/*0*/</span><span style="color:#e6db74">&#34;item&#34;</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">/*1*/</span><span style="color:#e6db74">&#34;document&#34;</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">/*2*/</span><span style="color:#e6db74">&#34;getElementsByClassName&#34;</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">/*3*/</span><span style="color:#e6db74">&#34;sun&#34;</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">/*4*/</span><span style="color:#e6db74">&#34;classList&#34;</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">/*5*/</span><span style="color:#e6db74">&#34;contains&#34;</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">/*6*/</span><span style="color:#e6db74">&#34;clouds&#34;</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">/*7*/</span><span style="color:#e6db74">&#34;add&#34;</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">/*8*/</span><span style="color:#e6db74">&#34;sundown&#34;</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">/*9*/</span><span style="color:#e6db74">&#34;!&#34;</span>,
</span></span><span style="display:flex;"><span>]
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">ForOf</span> <span style="color:#75715e">/*0*/</span>{
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">vars</span><span style="color:#f92672">:</span> [<span style="color:#e6db74">&#34;item&#34;</span>], <span style="color:#75715e">/*1, 0*/</span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">left</span><span style="color:#f92672">:</span> <span style="color:#a6e22e">Name</span> <span style="color:#e6db74">&#34;item&#34;</span>  <span style="color:#75715e">/*1, 0*/</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">right</span><span style="color:#f92672">:</span> <span style="color:#a6e22e">Apply</span> <span style="color:#75715e">/*2*/</span>{
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">function</span><span style="color:#f92672">:</span> <span style="color:#a6e22e">Dot</span> <span style="color:#75715e">/*3*/</span>{
</span></span><span style="display:flex;"><span>            <span style="color:#a6e22e">object</span><span style="color:#f92672">:</span> <span style="color:#a6e22e">Name</span> <span style="color:#e6db74">&#34;document&#34;</span> <span style="color:#75715e">/*1, 1*/</span>,
</span></span><span style="display:flex;"><span>            <span style="color:#a6e22e">property</span><span style="color:#f92672">:</span> <span style="color:#a6e22e">Name</span> <span style="color:#e6db74">&#34;getElementsByClassName&#34;</span> <span style="color:#75715e">/*1, 2*/</span>
</span></span><span style="display:flex;"><span>        },
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">args</span><span style="color:#f92672">:</span> [String <span style="color:#e6db74">&#34;sun&#34;</span>] <span style="color:#75715e">/*1, 6, 3*/</span>
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">body</span><span style="color:#f92672">:</span> <span style="color:#a6e22e">If</span> <span style="color:#75715e">/*4*/</span>{
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">condition</span><span style="color:#f92672">:</span> <span style="color:#a6e22e">Unary</span> <span style="color:#75715e">/*5*/</span>{
</span></span><span style="display:flex;"><span>            <span style="color:#a6e22e">operation</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#34;!&#34;</span>, <span style="color:#75715e">/*9*/</span>
</span></span><span style="display:flex;"><span>            <span style="color:#a6e22e">operand</span><span style="color:#f92672">:</span> <span style="color:#a6e22e">Apply</span> <span style="color:#75715e">/*2*/</span>{
</span></span><span style="display:flex;"><span>                <span style="color:#66d9ef">function</span><span style="color:#f92672">:</span> <span style="color:#a6e22e">Dot</span> <span style="color:#75715e">/*3*/</span>{
</span></span><span style="display:flex;"><span>                    <span style="color:#a6e22e">object</span><span style="color:#f92672">:</span> <span style="color:#a6e22e">Dot</span> <span style="color:#75715e">/*3*/</span>{
</span></span><span style="display:flex;"><span>                        <span style="color:#a6e22e">object</span><span style="color:#f92672">:</span> <span style="color:#a6e22e">Name</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#34;item&#34;</span>, <span style="color:#75715e">/*1, 9*/</span>
</span></span><span style="display:flex;"><span>                        <span style="color:#a6e22e">property</span><span style="color:#f92672">:</span> <span style="color:#a6e22e">Name</span> <span style="color:#e6db74">&#34;classList&#34;</span> <span style="color:#75715e">/*1, 4*/</span>
</span></span><span style="display:flex;"><span>                    },
</span></span><span style="display:flex;"><span>                    <span style="color:#a6e22e">property</span><span style="color:#f92672">:</span> <span style="color:#a6e22e">Name</span> <span style="color:#e6db74">&#34;contains&#34;</span> <span style="color:#75715e">/*1, 5*/</span>
</span></span><span style="display:flex;"><span>                },
</span></span><span style="display:flex;"><span>                <span style="color:#a6e22e">args</span><span style="color:#f92672">:</span> [String <span style="color:#e6db74">&#34;clouds&#34;</span>] <span style="color:#75715e">/*1, 6, 6*/</span>
</span></span><span style="display:flex;"><span>            }
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">then</span><span style="color:#f92672">:</span> <span style="color:#a6e22e">Apply</span> <span style="color:#75715e">/*2*/</span>{
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">function</span><span style="color:#f92672">:</span> <span style="color:#a6e22e">Dot</span> <span style="color:#75715e">/*3*/</span>{
</span></span><span style="display:flex;"><span>                <span style="color:#a6e22e">object</span><span style="color:#f92672">:</span> <span style="color:#a6e22e">Dot</span> <span style="color:#75715e">/*3*/</span>{
</span></span><span style="display:flex;"><span>                    <span style="color:#a6e22e">object</span><span style="color:#f92672">:</span> <span style="color:#a6e22e">Name</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#34;item&#34;</span>, <span style="color:#75715e">/*1, 9*/</span>
</span></span><span style="display:flex;"><span>                    <span style="color:#a6e22e">property</span><span style="color:#f92672">:</span> <span style="color:#a6e22e">Name</span> <span style="color:#e6db74">&#34;classList&#34;</span> <span style="color:#75715e">/*1, 4*/</span>
</span></span><span style="display:flex;"><span>                },
</span></span><span style="display:flex;"><span>                <span style="color:#a6e22e">property</span><span style="color:#f92672">:</span> <span style="color:#a6e22e">Name</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#34;add&#34;</span> <span style="color:#75715e">/*1, 7*/</span>
</span></span><span style="display:flex;"><span>            },
</span></span><span style="display:flex;"><span>            <span style="color:#a6e22e">args</span><span style="color:#f92672">:</span> [String <span style="color:#e6db74">&#34;sundown&#34;</span>] <span style="color:#75715e">/*1, 6, 8*/</span>
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">else</span><span style="color:#f92672">:</span> <span style="color:#66d9ef">null</span> <span style="color:#75715e">/*7*/</span>
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}</span></span></code></pre></div></div>
  
</div><p class="component-content component">Or, in binary&hellip;</p>
<div class="component-content pagebody component code">
  
  
  
  <div class=""><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-js" data-lang="js"><span style="display:flex;"><span><span style="color:#75715e">/* Index*/</span> ...
</span></span><span style="display:flex;"><span><span style="color:#75715e">/* Strings */</span> [<span style="color:#75715e">/*Number of strings*/</span><span style="color:#ae81ff">10</span>, <span style="color:#75715e">/*Length*/</span><span style="color:#ae81ff">4</span>, <span style="color:#e6db74">&#39;i&#39;</span>, <span style="color:#e6db74">&#39;t&#39;</span>, <span style="color:#e6db74">&#39;e&#39;</span>, <span style="color:#e6db74">&#39;m&#39;</span>, <span style="color:#75715e">/*Length*/</span><span style="color:#ae81ff">8</span>, <span style="color:#e6db74">&#39;d&#39;</span>, <span style="color:#e6db74">&#39;o&#39;</span>, <span style="color:#e6db74">&#39;c&#39;</span>, <span style="color:#e6db74">&#39;u&#39;</span>, <span style="color:#e6db74">&#39;m&#39;</span>, <span style="color:#e6db74">&#39;e&#39;</span>, <span style="color:#e6db74">&#39;n&#39;</span>, <span style="color:#e6db74">&#39;t&#39;</span>, <span style="color:#75715e">/*Length*/</span><span style="color:#ae81ff">22</span>, <span style="color:#e6db74">&#39;g&#39;</span>, <span style="color:#e6db74">&#39;e&#39;</span>, <span style="color:#e6db74">&#39;t&#39;</span>, <span style="color:#e6db74">&#39;E&#39;</span>, <span style="color:#e6db74">&#39;l&#39;</span>, <span style="color:#e6db74">&#39;e&#39;</span>, <span style="color:#e6db74">&#39;m&#39;</span>, <span style="color:#e6db74">&#39;e&#39;</span>, <span style="color:#e6db74">&#39;n&#39;</span>, <span style="color:#e6db74">&#39;t&#39;</span>, <span style="color:#e6db74">&#39;s&#39;</span>, <span style="color:#e6db74">&#39;B&#39;</span>, <span style="color:#e6db74">&#39;y&#39;</span>, <span style="color:#e6db74">&#39;C&#39;</span>, <span style="color:#e6db74">&#39;l&#39;</span>, <span style="color:#e6db74">&#39;a&#39;</span>, <span style="color:#e6db74">&#39;s&#39;</span>, <span style="color:#e6db74">&#39;s&#39;</span>, <span style="color:#e6db74">&#39;N&#39;</span>, <span style="color:#e6db74">&#39;a&#39;</span>, <span style="color:#e6db74">&#39;m&#39;</span>, <span style="color:#e6db74">&#39;e&#39;</span>, <span style="color:#75715e">/*Length*/</span><span style="color:#ae81ff">3</span>, <span style="color:#e6db74">&#39;s&#39;</span>, <span style="color:#e6db74">&#39;u&#39;</span>, <span style="color:#e6db74">&#39;n&#39;</span>, <span style="color:#75715e">/*Length*/</span> <span style="color:#ae81ff">9</span>, <span style="color:#e6db74">&#39;c&#39;</span>, <span style="color:#e6db74">&#39;l&#39;</span>, <span style="color:#e6db74">&#39;a&#39;</span>, <span style="color:#e6db74">&#39;s&#39;</span>, <span style="color:#e6db74">&#39;s&#39;</span>, <span style="color:#e6db74">&#39;L&#39;</span>, <span style="color:#e6db74">&#39;i&#39;</span>, <span style="color:#e6db74">&#39;s&#39;</span>, <span style="color:#e6db74">&#39;t&#39;</span>, <span style="color:#75715e">/*Length*/</span><span style="color:#ae81ff">8</span>, <span style="color:#e6db74">&#39;c&#39;</span>, <span style="color:#e6db74">&#39;o&#39;</span>, <span style="color:#e6db74">&#39;n&#39;</span>, <span style="color:#e6db74">&#39;t&#39;</span>, <span style="color:#e6db74">&#39;a&#39;</span>, <span style="color:#e6db74">&#39;i&#39;</span>, <span style="color:#e6db74">&#39;n&#39;</span>, <span style="color:#e6db74">&#39;s&#39;</span>, <span style="color:#75715e">/*Length*/</span><span style="color:#ae81ff">8</span>, <span style="color:#e6db74">&#39;c&#39;</span>, <span style="color:#e6db74">&#39;l&#39;</span>, <span style="color:#e6db74">&#39;o&#39;</span>, <span style="color:#e6db74">&#39;u&#39;</span>, <span style="color:#e6db74">&#39;d&#39;</span>, <span style="color:#e6db74">&#39;s&#39;</span>, <span style="color:#75715e">/*Length*/</span> <span style="color:#ae81ff">3</span>, <span style="color:#e6db74">&#39;a&#39;</span>, <span style="color:#e6db74">&#39;d&#39;</span>, <span style="color:#e6db74">&#39;d&#39;</span>, <span style="color:#75715e">/*Length*/</span> <span style="color:#ae81ff">7</span>, <span style="color:#e6db74">&#39;s&#39;</span>, <span style="color:#e6db74">&#39;u&#39;</span>, <span style="color:#e6db74">&#39;n&#39;</span>, <span style="color:#e6db74">&#39;d&#39;</span>, <span style="color:#e6db74">&#39;o&#39;</span>, <span style="color:#e6db74">&#39;w&#39;</span>, <span style="color:#e6db74">&#39;n&#39;</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">/* AST */</span> [<span style="color:#ae81ff">0</span>, <span style="color:#ae81ff">1</span>, <span style="color:#ae81ff">0</span>, <span style="color:#ae81ff">1</span>, <span style="color:#ae81ff">0</span>, <span style="color:#ae81ff">2</span>, <span style="color:#ae81ff">3</span>, <span style="color:#ae81ff">1</span>, <span style="color:#ae81ff">1</span>, <span style="color:#ae81ff">1</span>, <span style="color:#ae81ff">2</span>, <span style="color:#ae81ff">1</span>, <span style="color:#ae81ff">6</span>, <span style="color:#ae81ff">3</span>, <span style="color:#ae81ff">4</span>, <span style="color:#ae81ff">5</span>, <span style="color:#ae81ff">9</span>, <span style="color:#ae81ff">2</span>, <span style="color:#ae81ff">3</span>, <span style="color:#ae81ff">3</span>, <span style="color:#ae81ff">1</span>, <span style="color:#ae81ff">9</span>, <span style="color:#ae81ff">1</span>, <span style="color:#ae81ff">4</span>, <span style="color:#ae81ff">1</span>, <span style="color:#ae81ff">5</span>, <span style="color:#ae81ff">1</span>, <span style="color:#ae81ff">6</span>, <span style="color:#ae81ff">6</span>, <span style="color:#ae81ff">2</span>, <span style="color:#ae81ff">3</span>, <span style="color:#ae81ff">3</span>, <span style="color:#ae81ff">1</span>, <span style="color:#ae81ff">9</span>, <span style="color:#ae81ff">1</span>, <span style="color:#ae81ff">4</span>, <span style="color:#ae81ff">1</span>, <span style="color:#ae81ff">7</span>, <span style="color:#ae81ff">1</span>, <span style="color:#ae81ff">6</span>, <span style="color:#ae81ff">8</span>, <span style="color:#ae81ff">7</span>]</span></span></code></pre></div></div>
  
</div><div class="component-content component"><ul>
<li><strong>TODO</strong> use well-known compression techniques to further reduce the size of
the binary.</li>
</ul></div>

<div class="component-content pagebody component">
  <h1 id="making-it-fast-to-parse" class="pagebody-header">
    Making it fast to parse
  </h1>
</div><p class="component-content component">If you recall, the main problem we are trying to solve is performance. More
precisely, we want JavaScript code to <em>start</em> faster. Smaller files will
definitely help (more on this below), but we can go much further.</p>
<p class="component-content component">Before we proceed, let me offer you a game: how quickly can you read and understand
the following snippet?</p>
<div class="component-content pagebody component code">
  
  
  
  <div class=""><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-txt" data-lang="txt"><span style="display:flex;"><span>function /*function() {}*/ replace() { // }
</span></span><span style="display:flex;"><span>   var string /* my string */ = /.* my string */;
</span></span><span style="display:flex;"><span>   var re = /* out of the re */ } &#34; /* in the re */ &#34;;
</span></span><span style="display:flex;"><span>   (...x) =&gt; ({string});
</span></span><span style="display:flex;"><span>`}`</span></span></code></pre></div></div>
  
</div><p class="component-content component">(yeah, I have deactivated syntax coloring on purpose, I&rsquo;m that kind of guy)</p>
<p class="component-content component">I hope that, after playing this game, you agree with me that the syntax of
JavaScript is complicated and understanding it needs way too much brainpower.
For fun, you can try and find how to reactivate syntax coloring – and realize
that the syntax coloring tool actually misinterprets this source code, or
perhaps I do.</p>
<p class="component-content component">So, here&rsquo;s something we can do:</p>
<div class="component-content component"><ul>
<li><strong>TODO</strong> the syntax of the AST must be extremely simple for the computer to parse;</li>
</ul></div>
<p class="component-content component">And in particular</p>
<div class="component-content component"><ul>
<li><strong>TODO</strong> don&rsquo;t parse things more than once;</li>
</ul></div>
<p class="component-content component">But that&rsquo;s not all. Parsing JavaScript wouldn&rsquo;t be so much of a problem if we
didn&rsquo;t actually need to parse <em>the entire file</em> before we could start executing
it.</p>
<div class="component-content component"><ul>
<li><strong>TODO</strong> the syntax of the AST and semantics of parser must allow us to <em>skip</em>
over stuff that may not be useful;</li>
</ul></div>
<p class="component-content component">So far, we have attempted to decrease the total amount of work before we can
start, which is generally the best way to do things. The alternative is to
delegate it to other cores:</p>
<div class="component-content component"><ul>
<li><strong>TODO</strong> the syntax of the AST and semantics of parser must allow us to
delegate some of the work to other nodes.</li>
</ul></div>

          </div><div class="component">
            <div class="component-content">
              <div class="article-copyright">
                <p class="content">
                  Copyright: <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/deed" target="_blank">Attribution-NonCommercial-ShareAlike 4.0 International (CC BY-NC-SA 4.0)</a>
                </p>
                <p class="content">Author:   </p>
                <p class="content">Posted on:  September 26, 2017</p>
              </div>
            </div>
          </div></article>
      </section>
      
      <div id="gitalk-container"></div>
      <script>
        const gitalk = new Gitalk({
          clientID: 'be349d0bd8338cd1aa1d',
          clientSecret: '6190d06de070bfa3ed050a29390a4ccd77ba032a',
          repo: 'yoric.github.io',    
          owner: 'Yoric',
          admin: ['Yoric'],
          id: 'a0921d50f3d845b0fcd04a0d20eb4618',  
          distractionFreeMode: false  
        })

        gitalk.render('gitalk-container')
      </script>
      
    </main>

  <script>
    var script = document.createElement("script");script.src = "http://localhost:1313/js/initPost.js";
    document.head.appendChild(script);
  </script>

    
    <div class="footer-main ">
  <div class="content-body footer-wraper">
    <div class="footer-box">
      <div class="foot-nav">
        <div class="foot-nav-items">
          <div class="item">
            <div class="logo"></div>
            <div class="email">Email: <a href="mailto:D.O.MyLastName@gmail.com">D.O.MyLastName@gmail.com</a></div>
          </div>

          <div class="item community">
            <div class="item-title">Social Media</div>
            
              <a href="http://github.com/Yoric" target="_blank">github</a>
            
          </div>

          <div class="item resources">
            <div class="item-title">Related</div>
            
          </div>
        </div>
      </div>
      <div class="bottom">
        <div class="item copyright">
          &copy; 2025
          Powered by <a href="https://gohugo.io/" target="_blank">Hugo</a> & <a href="https://github.com/floyd-li/hugo-theme-itheme" target="_blank">iTheme</a>
        </div>
      </div>
    </div>
  </div>
</div>

  </body>
    
    

    
    
</html>
